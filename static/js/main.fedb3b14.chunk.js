(this["webpackJsonppoke-store"]=this["webpackJsonppoke-store"]||[]).push([[0],{26:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(20),s=n.n(r),o=(n(26),n(7)),i=n(2),j=n(0);function l(e){var t=e.pokemons,n=e.gotoDetailsPage,c=e.addPokemonToCart;return Object(j.jsx)("div",{className:"pokemon-list-container",children:Object(j.jsxs)("table",{className:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"#"}),Object(j.jsx)("th",{scope:"col",children:"Name"}),Object(j.jsx)("th",{scope:"col",children:"Price"}),Object(j.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(j.jsx)("tbody",{children:t.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:t+1}),Object(j.jsx)("td",{children:e.name}),Object(j.jsxs)("td",{children:["Price: $",e.id]}),Object(j.jsxs)("td",{children:[Object(j.jsx)("button",{className:"btn btn-info btn-sm",onClick:function(){return n(e.url)},children:"See details"}),Object(j.jsx)("button",{className:"btn btn-primary btn-sm",onClick:function(){return c(e)},children:"Add to cart"})]})]},e.name)}))})]})})}function u(e){var t=e.gotoNextPage,n=e.gotoPrevPage;return Object(j.jsxs)("div",{className:"d-flex justify-content-around mt-4 paginator",children:[n&&Object(j.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:n,children:"Previous page"}),t&&Object(j.jsx)("button",{className:"btn btn-primary btn-sm",onClick:t,children:"Next page"})]})}function b(e){var t=e.pokemonDetails,n=e.pokemonName;return Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h4",{className:"card-title",children:n}),t.map((function(e){return Object(j.jsx)("div",{className:"card-text",children:Object(j.jsxs)("h6",{className:"d-flex justify-content-between",children:[e.stat.name.toUpperCase(),Object(j.jsx)("span",{children:e.base_stat})]})},e.stat.name)}))]})})}function d(e){var t=e.cart,n=e.removePokemonFromCart;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{children:"Pokemon Cart"}),Object(j.jsxs)("p",{children:["Total: $",t.reduce((function(e,t){return e+parseInt(t.id)}),0)]}),Object(j.jsx)("button",{className:"btn btn-primary btn-block",type:"button","data-toggle":"collapse","data-target":"#cartPokemon","aria-expanded":"false","aria-controls":"cartPokemon",children:"List of pokemons in cart"}),Object(j.jsx)("div",{className:"collapse",id:"cartPokemon",children:t.map((function(e){return Object(j.jsxs)("div",{className:"d-flex justify-content-around m-2 p-2 border border-top-0",children:[Object(j.jsx)("span",{children:e.name}),Object(j.jsx)("button",{className:"btn btn-warning btn-sm",onClick:function(){return n(e)},children:"Remove pokemon"})]},e.name)}))})]})}var m=function(){return Object(j.jsx)("nav",{className:"navbar navbar-dark",style:{backgroundColor:"#B22222",height:"60px"},children:Object(j.jsxs)("h5",{className:"text-white m-0",children:[Object(j.jsx)("img",{src:"pikachu.svg",width:"30",height:"30",className:"d-inline-block align-top",alt:"brand"}),"PokeStore"]})})},O=n(5),h=n.n(O),p=n(21),f=n(9),x=(n(46),n(6)),v=n.n(x),k=n(11);n(48);function g(e){var t=e.cart,n=e.cleanCart,a=Object(c.useState)(!1),r=Object(i.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(null),u=Object(i.a)(l,2),b=u[0],d=u[1],m=Object(c.useState)(""),O=Object(i.a)(m,2),h=O[0],p=O[1],x=Object(c.useState)(!0),g=Object(i.a)(x,2),N=g[0],y=g[1],P=Object(c.useState)(!1),S=Object(i.a)(P,2),C=S[0],w=S[1],T=Object(c.useState)([]),D=Object(i.a)(T,2),E=D[0],F=D[1],I=function(){var e=Object(k.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(t.empty),d(t.error?t.error.message:""),w(t.complete);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(k.a)(v.a.mark((function e(c){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.preventDefault(),p(!0),C?0===t.length?(d("You do not have items on your cart"),p(!1)):(F(t),d(null),p(!1),o(!0),n()):p(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{id:"payment-form",onSubmit:A,children:[Object(j.jsx)(f.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:I}),Object(j.jsx)("button",{className:"btn btn-success btn-block",disabled:h||N||s,id:"submit",children:Object(j.jsx)("span",{id:"button-text",children:h?Object(j.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})}),b&&Object(j.jsx)("div",{className:"card-error",role:"alert",children:b}),Object(j.jsxs)("div",{className:s?"result-message":"result-message hidden",children:[Object(j.jsx)("p",{children:"Payment succeeded, see the result for your purchase"}),Object(j.jsxs)("p",{children:["Congratulations, these are your pokemons: ",E.map((function(e){return e.name})).join(", ")]}),Object(j.jsxs)("p",{children:["Total: $",E.reduce((function(e,t){return e+parseInt(t.id)}),0)]}),Object(j.jsx)("p",{children:"Refresh the page to pay again."})]})]})}var N=function(){var e="https://pokeapi.co/api/v2/pokemon/",t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(e),O=Object(i.a)(s,2),x=O[0],v=O[1],k=Object(c.useState)(),N=Object(i.a)(k,2),y=N[0],P=N[1],S=Object(c.useState)(),C=Object(i.a)(S,2),w=C[0],T=C[1],D=Object(c.useState)(!0),E=Object(i.a)(D,2),F=E[0],I=E[1],A=Object(c.useState)(""),$=Object(i.a)(A,2),_=$[0],B=$[1],J=Object(c.useState)([]),L=Object(i.a)(J,2),M=L[0],R=L[1],Y=Object(c.useState)(),q=Object(i.a)(Y,2),z=q[0],Q=q[1],U=Object(c.useState)([]),G=Object(i.a)(U,2),H=G[0],K=G[1],V=Object(p.a)("pk_test_TYooMQauvdEDq54NiTphI7jx");function W(e){return{name:e.name,url:e.url,id:e.url.match(/\d{1,4}/g)[1]}}function X(e){var t;K([].concat(Object(o.a)(H),[e])),r((t=e,a.filter((function(e){return e!==t}))))}function Z(e){var t;K((t=e,H.filter((function(e){return e!==t})))),r([].concat(Object(o.a)(a),[e]))}return Object(c.useEffect)((function(){var t;return I(!0),h.a.get(x,{cancelToken:new h.a.CancelToken((function(e){return t=e}))}).then((function(t){I(!1),P(t.data.next),T(t.data.previous);var n=t.data.results.map(W);n=n.filter((function(e){return H.every((function(t){return t.id!==e.id}))})),r(n),n.length>0&&Q(e+n[0].id)})),function(){return t()}}),[x]),Object(c.useEffect)((function(){var e;return h.a.get(z,{cancelToken:new h.a.CancelToken((function(t){return e=t}))}).then((function(e){R(e.data.stats),B(e.data.name)})),function(){return e()}}),[z]),F?"Loading...":Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m,{}),Object(j.jsx)("div",{className:"container mb-5",children:Object(j.jsxs)("div",{className:"pokemon-page",children:[Object(j.jsxs)("div",{className:"pokemon-elements",children:[Object(j.jsx)(l,{pokemons:a,gotoDetailsPage:function(e){return function(e){Q(e)}(e)},addPokemonToCart:function(e){return X(e)}}),Object(j.jsx)(u,{gotoNextPage:y?function(){v(y)}:null,gotoPrevPage:w?function(){v(w)}:null})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{pokemonDetails:M,pokemonName:_}),Object(j.jsx)(d,{cart:H,removePokemonFromCart:function(e){return Z(e)}}),Object(j.jsx)(f.Elements,{stripe:V,children:Object(j.jsx)(g,{cart:H,cleanCart:function(){return r([].concat(Object(o.a)(a),Object(o.a)(H))),void K([])}})})]})]})})]})};n(49),n(50),n(51);s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.fedb3b14.chunk.js.map